<div class='sub-heading'>Connections</div>
<div class="container">
    <form novalidate [formGroup]="connectionForm">
    <div class="sub-container">
        <ng-container *ngIf="connections && connections.length > 0; else noConnection">
            <mat-form-field appearance="fill">
                <mat-label>Available Connections</mat-label>
                <mat-select formControlName="connection">
                    <mat-option *ngFor="let connection of connections" [value]="connection.id">
                        {{ connection.description }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <div class="button-bar">
                <button mat-button color='primary' 
                   [disabled]="!connectionForm.valid"    
                   (click)="connect()">
                    Connect
                </button>
                <button mat-button color='primary' (click)="displayNewConnection()">
                    Create New Connection
                </button>
            </div>
        </ng-container>
        <ng-template #noConnection>
            No connections available
        </ng-template>
    </div>
    </form>
    <div *ngIf="createConnection">
        <form novalidate [formGroup]="newConnectionForm">
            <div class="sub-container">
                <div class="sub-container-heading">Create New Connection</div>
                <mat-form-field>
                    <mat-label>Connection Type</mat-label>
                    <mat-select formControlName="connectionType">
                        <mat-option *ngFor="let type of connectionTypes" [value]="type.id">
                            {{type.description}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>Description</mat-label>
                    <input matInput formControlName="description" />
                </mat-form-field>
                <mat-form-field>
                    <mat-label>URL</mat-label>
                    <input matInput formControlName="url" />
                </mat-form-field>
                <div class="button-bar">
                    <button mat-button color='primary' 
                    [disabled]="!newConnectionForm.valid" 
                    (click)="createNewConnection()">Create</button>
                    <button mat-button color='primary'
                    (click)="cancel()">Cancel</button>
                </div>
            </div>
        </form>
    </div>
</div>